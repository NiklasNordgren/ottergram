var DETAIL_IMAGE_SELECTOR = '[data-image-role="target"]';
var DETAIL_TITLE_SELECTOR = '[data-image-role="title"]';
var THUMBNAIL_LINK_SELECTOR = '[data-image-role="trigger"]';

function setDetails(imageUrl, titleText) {

  resetStandardOtterThumbnailUrls();

  'use strict';
  var detailImage = document.querySelector(DETAIL_IMAGE_SELECTOR);
  detailImage.setAttribute('src', imageUrl);

  randomOtterThumbnailToTacocat();

  var detailTitle = document.querySelector(DETAIL_TITLE_SELECTOR);
  detailTitle.textContent = titleText;
}

function imageFromThumb(thumbnail) {
  'use strict';
  return thumbnail.getAttribute('data-image-url');
}

function titleFromThumb(thumbnail) {
  'use strict';
  return thumbnail.getAttribute('data-image-title');
}

function setDetailsFromThumb(thumbnail) {
  'use strict';
  setDetails(imageFromThumb(thumbnail), titleFromThumb(thumbnail));
}

function addThumbClickHandler(thumb) {
  'use strict';
  thumb.addEventListener('click', function(event) {
    event.preventDefault();
    setDetailsFromThumb(thumb);
  });
}

function getThumbnailsArray() {
  'use strict';
  var thumbnails = document.querySelectorAll(THUMBNAIL_LINK_SELECTOR);
  var thumbnailArray = [].slice.call(thumbnails);
  return thumbnailArray;
}

function initializeEvents() {
  'use strict';
  var thumbnails = getThumbnailsArray();
  thumbnails.forEach(addThumbClickHandler);
}

function randomOtterThumbnailToTacocat(){

  var thumbnailArray = getThumbnailsArray();

  var randomThumbnail = thumbnailArray[Math.round(Math.random() * 4)];

  randomThumbnail.setAttribute('data-image-url', 'data:image/jpeg;base64,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');

}

function resetStandardOtterThumbnailUrls(){
  var thumbnails= getThumbnailsArray();

  for(let i = 0; i < thumbnails.length; i++){
    thumbnails[i].setAttribute('data-image-url', 'img/otter' + (i+1) + '.jpg');
  }

}

initializeEvents();
